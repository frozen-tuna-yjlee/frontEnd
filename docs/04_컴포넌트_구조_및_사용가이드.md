# 컴포넌트 구조 및 사용 가이드

## 1. 컴포넌트 개요

### 1.1 컴포넌트 분류

프로젝트의 컴포넌트는 다음과 같이 분류됩니다:

1. **Layout Components** - 레이아웃 구조를 담당
2. **Section Components** - 주요 콘텐츠 섹션
3. **Card Components** - 카드 형태의 콘텐츠 표시
4. **Widget Components** - 사이드바 위젯
5. **Auth Components** - 인증 관련 컴포넌트

---

## 2. Layout Components

### 2.1 Header

**위치**: `src/components/layout/Header.tsx`

**설명**: 상단 네비게이션 바 컴포넌트입니다. 로고, 메뉴, 로그인 버튼을 포함합니다.

**주요 기능**:
- 네비게이션 메뉴 (뉴스, 스포츠, 연예, 경제, 생활)
- 로그인/로그아웃 버튼
- 사용자 정보 표시
- 알림 아이콘
- 로그인 모달 열기

**Props**: 없음 (useAuth 훅을 통해 인증 상태 관리)

**사용 예시**:
```tsx
import Header from './components/layout/Header';

function App() {
  return (
    <div>
      <Header />
      {/* 다른 컴포넌트 */}
    </div>
  );
}
```

**스타일**: `Header.css` 파일 사용

---

### 2.2 Footer

**위치**: `src/components/layout/Footer.tsx`

**설명**: 하단 푸터 컴포넌트입니다.

**Props**: 없음

**사용 예시**:
```tsx
import Footer from './components/layout/Footer';

function App() {
  return (
    <div>
      {/* 콘텐츠 */}
      <Footer />
    </div>
  );
}
```

---

### 2.3 Sidebar

**위치**: `src/components/layout/Sidebar.tsx`

**설명**: 사이드바 레이아웃 컴포넌트입니다. 여러 위젯을 포함합니다.

**포함 위젯**:
- ProfileWidget
- WeatherWidget
- StockWidget
- TrendingWidget

**Props**: 없음

**사용 예시**:
```tsx
import Sidebar from './components/layout/Sidebar';

function MainContent() {
  return (
    <div className="grid grid-cols-1 xl:grid-cols-5">
      <div className="xl:col-span-4">
        {/* 메인 콘텐츠 */}
      </div>
      <div className="xl:col-span-1">
        <Sidebar />
      </div>
    </div>
  );
}
```

---

## 3. Section Components

### 3.1 SearchSection

**위치**: `src/components/sections/SearchSection.tsx`

**설명**: 통합 검색 섹션 컴포넌트입니다.

**주요 기능**:
- 검색어 입력 필드
- 검색 버튼

**Props**: 없음

**향후 개선 사항**:
- 검색 기능 구현
- 검색어 자동완성
- 검색 히스토리

**사용 예시**:
```tsx
import SearchSection from './components/sections/SearchSection';

function MainContent() {
  return (
    <main>
      <SearchSection />
      {/* 다른 섹션 */}
    </main>
  );
}
```

---

### 3.2 NewsSection

**위치**: `src/components/sections/NewsSection.tsx`

**설명**: 주요 뉴스 섹션 컴포넌트입니다.

**주요 기능**:
- 뉴스 카드 목록 표시
- "더보기" 링크

**Props**: 없음

**데이터 구조**:
```typescript
interface NewsData {
  title: string;
  description: string;
  source: string;
  date: string;
}
```

**사용 예시**:
```tsx
import NewsSection from './components/sections/NewsSection';

function MainContent() {
  return (
    <main>
      <NewsSection />
    </main>
  );
}
```

---

### 3.3 ServicesSection

**위치**: `src/components/sections/ServicesSection.tsx`

**설명**: 주요 서비스 링크 섹션 컴포넌트입니다.

**주요 기능**:
- 서비스 카드 목록 표시
- 각 서비스로의 링크

**Props**: 없음

**사용 예시**:
```tsx
import ServicesSection from './components/sections/ServicesSection';

function MainContent() {
  return (
    <main>
      <ServicesSection />
    </main>
  );
}
```

---

### 3.4 EntertainmentSection

**위치**: `src/components/sections/EntertainmentSection.tsx`

**설명**: 연예/스포츠 섹션 컴포넌트입니다.

**주요 기능**:
- 연예/스포츠 카드 목록 표시

**Props**: 없음

**사용 예시**:
```tsx
import EntertainmentSection from './components/sections/EntertainmentSection';

function MainContent() {
  return (
    <main>
      <EntertainmentSection />
    </main>
  );
}
```

---

## 4. Card Components

### 4.1 NewsCard

**위치**: `src/components/cards/NewsCard.tsx`

**설명**: 뉴스 카드 컴포넌트입니다.

**Props**:
```typescript
interface NewsCardProps {
  title: string;        // 뉴스 제목
  description: string;  // 뉴스 설명
  source: string;       // 출처
  date: string;         // 날짜
}
```

**사용 예시**:
```tsx
import NewsCard from './components/cards/NewsCard';

function NewsSection() {
  return (
    <NewsCard
      title="주요 경제 뉴스 헤드라인"
      description="경제 관련 주요 소식을 전해드립니다..."
      source="경제신문"
      date="2025-01-15"
    />
  );
}
```

---

### 4.2 ServiceCard

**위치**: `src/components/cards/ServiceCard.tsx`

**설명**: 서비스 카드 컴포넌트입니다.

**Props**:
```typescript
interface ServiceCardProps {
  title: string;        // 서비스 이름
  description: string;   // 서비스 설명
  icon: string;         // 아이콘 클래스
  link: string;         // 링크 URL
}
```

**사용 예시**:
```tsx
import ServiceCard from './components/cards/ServiceCard';

function ServicesSection() {
  return (
    <ServiceCard
      title="이메일"
      description="메일 서비스"
      icon="fas fa-envelope"
      link="/mail"
    />
  );
}
```

---

### 4.3 EntertainmentCard

**위치**: `src/components/cards/EntertainmentCard.tsx`

**설명**: 연예/스포츠 카드 컴포넌트입니다.

**Props**:
```typescript
interface EntertainmentCardProps {
  title: string;        // 제목
  description: string;  // 설명
  imageUrl?: string;    // 이미지 URL (optional)
  category: string;     // 카테고리 (연예/스포츠)
}
```

**사용 예시**:
```tsx
import EntertainmentCard from './components/cards/EntertainmentCard';

function EntertainmentSection() {
  return (
    <EntertainmentCard
      title="연예 뉴스"
      description="최신 연예 소식"
      imageUrl="/images/entertainment.jpg"
      category="연예"
    />
  );
}
```

---

## 5. Widget Components

### 5.1 WeatherWidget

**위치**: `src/components/widgets/WeatherWidget.tsx`

**설명**: 날씨 위젯 컴포넌트입니다.

**Props**: 없음 (현재는 정적 데이터)

**향후 개선 사항**:
- 실제 날씨 API 연동
- 위치 기반 날씨 정보
- 시간대별 날씨 예보

**사용 예시**:
```tsx
import WeatherWidget from './components/widgets/WeatherWidget';

function Sidebar() {
  return (
    <div>
      <WeatherWidget />
      {/* 다른 위젯 */}
    </div>
  );
}
```

---

### 5.2 StockWidget

**위치**: `src/components/widgets/StockWidget.tsx`

**설명**: 주식 정보 위젯 컴포넌트입니다.

**Props**: 없음 (현재는 정적 데이터)

**향후 개선 사항**:
- 실시간 주식 정보 API 연동
- 주요 지수 표시 (KOSPI, KOSDAQ 등)

**사용 예시**:
```tsx
import StockWidget from './components/widgets/StockWidget';

function Sidebar() {
  return (
    <div>
      <StockWidget />
    </div>
  );
}
```

---

### 5.3 TrendingWidget

**위치**: `src/components/widgets/TrendingWidget.tsx`

**설명**: 실시간 검색어 위젯 컴포넌트입니다.

**Props**: 없음 (현재는 정적 데이터)

**향후 개선 사항**:
- 실시간 검색어 API 연동
- 검색어 클릭 시 검색 결과 페이지로 이동

**사용 예시**:
```tsx
import TrendingWidget from './components/widgets/TrendingWidget';

function Sidebar() {
  return (
    <div>
      <TrendingWidget />
    </div>
  );
}
```

---

### 5.4 ProfileWidget

**위치**: `src/components/widgets/ProfileWidget.tsx`

**설명**: 프로필 위젯 컴포넌트입니다.

**Props**: 없음 (useAuth 훅을 통해 사용자 정보 가져옴)

**주요 기능**:
- 사용자 프로필 정보 표시
- 로그인 상태에 따른 UI 변경

**사용 예시**:
```tsx
import ProfileWidget from './components/widgets/ProfileWidget';

function Sidebar() {
  return (
    <div>
      <ProfileWidget />
    </div>
  );
}
```

---

## 6. Auth Components

### 6.1 LoginPage

**위치**: `src/components/auth/LoginPage.tsx`

**설명**: 로그인 모달 페이지 컴포넌트입니다.

**Props**:
```typescript
interface LoginPageProps {
  onClose: () => void;  // 모달 닫기 콜백
}
```

**주요 기능**:
- 일반 로그인 폼 (아이디/비밀번호)
- 카카오 소셜 로그인
- Google 로그인 버튼 (준비 중)
- 로그인 상태 유지 체크박스
- 비밀번호 찾기 링크
- 회원가입 링크

**사용 예시**:
```tsx
import LoginPage from './components/auth/LoginPage';

function Header() {
  const [showLogin, setShowLogin] = useState(false);

  return (
    <>
      <button onClick={() => setShowLogin(true)}>로그인</button>
      {showLogin && <LoginPage onClose={() => setShowLogin(false)} />}
    </>
  );
}
```

**스타일**: `LoginPage.css` 파일 사용

---

### 6.2 KakaoLogin

**위치**: `src/components/auth/KakaoLogin.tsx`

**설명**: 카카오 로그인 버튼 컴포넌트입니다.

**Props**:
```typescript
interface KakaoLoginProps {
  onSuccess?: (userInfo: any) => void;  // 로그인 성공 콜백
  onError?: (error: any) => void;       // 로그인 실패 콜백
  className?: string;                    // 추가 CSS 클래스
}
```

**주요 기능**:
- 카카오 SDK 초기화
- 카카오 로그인 처리
- 사용자 정보 획득
- 로딩 상태 표시

**카카오 JavaScript 키 설정**:
```typescript
// KakaoLogin.tsx 파일 내부
const kakaoKey = '94f7795b9f24715dc2dc8f78420dda8d';
```

**사용 예시**:
```tsx
import KakaoLogin from './components/auth/KakaoLogin';

function LoginPage() {
  const handleSuccess = (userInfo) => {
    console.log('로그인 성공:', userInfo);
  };

  const handleError = (error) => {
    console.error('로그인 실패:', error);
  };

  return (
    <KakaoLogin
      onSuccess={handleSuccess}
      onError={handleError}
      className="kakao-login-button"
    />
  );
}
```

---

## 7. Main Components

### 7.1 MainContent

**위치**: `src/components/main/MainContent.tsx`

**설명**: 메인 콘텐츠 레이아웃 컴포넌트입니다.

**구성**:
- SearchSection
- NewsSection
- ServicesSection
- EntertainmentSection
- Sidebar

**사용 예시**:
```tsx
import MainContent from './components/main/MainContent';

function App() {
  return (
    <div>
      <Header />
      <MainContent />
      <Footer />
    </div>
  );
}
```

---

## 8. Context Components

### 8.1 AuthContext

**위치**: `src/context/AuthContext.tsx`

**설명**: 인증 상태를 관리하는 Context입니다.

**제공하는 값**:
```typescript
interface AuthContextValue {
  user: User | null;              // 현재 사용자 정보
  isLoading: boolean;             // 로딩 상태
  login: (userId, userPw, rememberMe) => Promise<void>;
  kakaoLogin: (kakaoUserInfo, accessToken) => Promise<void>;
  logout: () => Promise<void>;
  refreshToken: () => Promise<void>;
}
```

**사용 예시**:
```tsx
import { useAuth } from './context/AuthContext';

function MyComponent() {
  const { user, logout } = useAuth();

  if (user) {
    return <div>안녕하세요, {user.name}님</div>;
  }

  return <div>로그인이 필요합니다.</div>;
}
```

---

## 9. 컴포넌트 사용 패턴

### 9.1 컴포넌트 임포트

**권장 방식**:
```tsx
// 개별 임포트
import Header from './components/layout/Header';
import NewsCard from './components/cards/NewsCard';

// 또는 index.ts를 통한 임포트 (향후 개선)
import { Header, NewsCard } from './components';
```

### 9.2 Props 전달

**기본 Props**:
```tsx
<NewsCard
  title="제목"
  description="설명"
  source="출처"
  date="2025-01-15"
/>
```

**조건부 렌더링**:
```tsx
{user && <ProfileWidget />}
{!user && <LoginButton />}
```

### 9.3 이벤트 핸들링

```tsx
const handleClick = () => {
  // 이벤트 처리
};

<button onClick={handleClick}>클릭</button>
```

---

## 10. 컴포넌트 확장 가이드

### 10.1 새 컴포넌트 생성

1. 적절한 디렉토리에 컴포넌트 파일 생성
2. TypeScript 인터페이스 정의
3. Props 타입 지정
4. 컴포넌트 구현
5. 필요시 CSS 파일 추가

### 10.2 컴포넌트 재사용

- 공통 Props 인터페이스 정의
- 기본값 설정 (defaultProps 또는 기본 매개변수)
- 스타일을 className prop으로 받아 커스터마이징 가능하게

### 10.3 컴포넌트 테스트

- 각 컴포넌트는 독립적으로 테스트 가능해야 함
- Props를 통한 다양한 시나리오 테스트
- 사용자 인터랙션 테스트

---

## 11. 스타일링 가이드

### 11.1 Tailwind CSS 사용

```tsx
<div className="flex items-center justify-between p-4 bg-white rounded-lg shadow">
  {/* 콘텐츠 */}
</div>
```

### 11.2 커스텀 CSS

- 컴포넌트별 CSS 파일 사용 (예: `LoginPage.css`)
- 글로벌 스타일은 `index.css`에 정의

### 11.3 반응형 디자인

```tsx
<div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
  {/* 반응형 그리드 */}
</div>
```

---

## 12. 베스트 프랙티스

### 12.1 컴포넌트 설계 원칙

1. **단일 책임 원칙**: 각 컴포넌트는 하나의 역할만 수행
2. **재사용성**: 가능한 한 재사용 가능하게 설계
3. **Props 인터페이스**: 명확한 Props 타입 정의
4. **컴포넌트 크기**: 너무 크지 않게 유지 (필요시 분리)

### 12.2 네이밍 규칙

- 컴포넌트 파일: PascalCase (예: `NewsCard.tsx`)
- Props 인터페이스: `{ComponentName}Props` (예: `NewsCardProps`)
- 함수 컴포넌트: PascalCase (예: `const NewsCard: React.FC = ...`)

### 12.3 코드 구조

```tsx
// 1. 임포트
import React from 'react';

// 2. 타입 정의
interface ComponentProps {
  // ...
}

// 3. 컴포넌트 구현
const Component: React.FC<ComponentProps> = ({ prop1, prop2 }) => {
  // 4. 훅 사용
  const [state, setState] = useState();

  // 5. 이벤트 핸들러
  const handleClick = () => {
    // ...
  };

  // 6. 렌더링
  return (
    <div>
      {/* JSX */}
    </div>
  );
};

// 7. Export
export default Component;
```

